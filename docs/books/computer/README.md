---
title: 《操作系统》
date: 2022-04-22
---
## 操作系统的功能
:::: tabs
::: tab label=作用
1. 操作系统作为`系统资源的管理者`，需要提供什么样的功能？
    * `进程`是程序执行的过程，执行前需要将该程序放到cpu当中，才会被cpu处理
    *  提供的功能：`文件管理`、`设备管理`、`处理机(cpu)管理`、`存储器(运行内存)管理`
2. 操作系统作为`用户与计算机硬件之间的接口`需要提供什么功能？
    * 命令接口：`联机命令接口（命令行）`、`脱机命令接口（批处理命令接口）（sh/bat文件执行）`
    * 程序接口：允许用户通过程序间接使用(.dll)
    * GUI：图形用户接口(图像拖拽等操作图形操作界面)
3. 操作系统作为最接近系统硬件的层次，需要在纯硬件基础上实现什么功能？
    * 调度系统资源，提供给用户更方便的使用
:::
::: tab label=特征
* `并发`：两个或多个事件在`宏观上同时发生`，`微观上交替发生`。（`并行`是宏观和微观都同时发生）
* 共享：指系统资源供多个并发资源同时使用，分为`互斥共享`(摄像头的使用)、`同时共享`(同时读取文件)
* 虚拟：`空分复用技术`(虚拟存储器，4G运存运行程序远超4G)、`时分复用技术`(虚拟处理器，单核处理多任务)
* 异步：进程并不总是一次性执行完的，而是走走停停，**根据操作系统的调度，微观上异步的处理完所有的指令**
:::
::: tab label=分类
>发展顺序
* 手工操作系统:人机交互慢，浪费资源
* 批处理阶段：单道批处理系统、**多道批处理系统(操作系统开始出现，调度程序并发执行)**
* 分时操作系统：**轮询机制处理交互任务**，人感觉不出来的时间差。(缺点：不能处理紧急任务)
* 实时操作系统：
    * 硬实时系统：规定时间内必须执行完（航空导弹、自动驾驶系统）
    * 软实时系统：能接受偶尔实时性不强（订票系统）
* 网络操作系统
* 分布式操作系统
* 个人计算机操作系统
:::
::: tab label=运行机制
* 两种运行状态：`用户态`、`核心态`
* CPU区分运行态的方式：`PSW标志位关键字`，0/1
* 两种程序：核心程序(运行在核心态，能够执行`特权指令`)、应用程序(运行在用户态，只能执行`非特权指令`)
* `中断`使cpu进入`核心态`。发生了中断，就意味着操作系统的介入，cpu的核心态可以让操作系统要用特权指令切换系统的控制权，中断控制是并发执行的核心
* **用户态和核心态的切换**：
    * 用户态 -> 核心态：中断(唯一途径)
    * 核心态 -> 用户态：执行一条特权指令，将程序的状态字`PSW`改为用户态
:::
::: tab label=系统调用
* `系统调用`过程：
    1. 传递系统调用参数
    2. 执行陷入指令（中断指令的一种），产生内中断，系统进入核心态
    3. 执行系统调用相应的应用程序
    4. 返回用户程序
:::
::::