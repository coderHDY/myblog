# promise
## 事件循环模型
* js是单线程语言，执行顺序是单线程异步模型
```js
// 异步等一秒
setTimeout(() => console.log('setTimeout'), 1000);

// 同步等2秒
const current = new Date().getTime();
while(new Date().getTime() < current + 2000) {}
console.log('同步');

// 最后还是同步先输出
```

### 浏览器多线程
* JS引擎线程
* GUI渲染线程（渲染页面）
* 事件触发线程
* 定时器触发线程
* http请求线程
* 其他线程

### 递归函数的风险
* 递归函数是函数调用自身。
* 递归函数是有风险的。因为递归函数会触发大量的栈帧堆积，让执行栈高度很高，可能会触发栈溢出。
* 优化
    1. 尾调用优化
    2. 将递归写成同步函数(while)
    3. 递归函数放到异步函数里面(会一直变换任务队列，会比同步代码慢)

